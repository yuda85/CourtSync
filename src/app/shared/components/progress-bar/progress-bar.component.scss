.progress-bar {
  @apply flex items-center gap-3;
  @apply w-full;
}

.progress-bar__track {
  @apply flex-1 rounded-full overflow-hidden;
  @apply relative;
  background: var(--surface-2);
  box-shadow: inset 0 1px 2px rgba(0, 0, 0, 0.06);

  [data-theme="dark"] & {
    background: var(--border);
    box-shadow: inset 0 1px 3px rgba(0, 0, 0, 0.2);
  }
}

.progress-bar__fill {
  @apply h-full rounded-full;
  @apply relative overflow-hidden;
  @apply transition-all duration-700 ease-out;
  min-width: 0;
}

// Subtle shine effect on fill
.progress-bar__shine {
  @apply absolute inset-0;
  @apply pointer-events-none;
  background: linear-gradient(
    90deg,
    transparent 0%,
    rgba(255, 255, 255, 0.15) 50%,
    transparent 100%
  );
  animation: shimmer 2s ease-in-out infinite;
  opacity: 0;

  .progress-bar__fill:hover & {
    opacity: 1;
  }
}

@keyframes shimmer {
  0% {
    transform: translateX(-100%);
  }
  100% {
    transform: translateX(100%);
  }
}

.progress-bar__label {
  @apply text-sm font-semibold tabular-nums;
  @apply flex-shrink-0;
  color: var(--muted);
  min-width: 3ch;

  [data-theme="dark"] & {
    color: var(--text);
  }
}

// Size variants
.progress-bar--sm {
  .progress-bar__track {
    @apply h-1.5;
  }
  .progress-bar__label {
    @apply text-xs;
  }
}

.progress-bar--md {
  .progress-bar__track {
    @apply h-2.5;
  }
}

.progress-bar--lg {
  .progress-bar__track {
    @apply h-4;
  }
  .progress-bar__label {
    @apply text-base;
  }
}

// Color variants
.progress-bar--primary {
  .progress-bar__fill {
    background: linear-gradient(90deg, var(--primary) 0%, var(--primary-hover) 100%);
    box-shadow: 0 1px 3px rgba(30, 142, 216, 0.3);

    [data-theme="dark"] & {
      background: linear-gradient(90deg, var(--primary) 0%, #48c0f0 100%);
      box-shadow: 0 1px 4px rgba(48, 184, 240, 0.25);
    }
  }

  .progress-bar__label {
    color: var(--primary);

    [data-theme="dark"] & {
      color: var(--primary);
    }
  }
}

.progress-bar--success {
  .progress-bar__fill {
    background: linear-gradient(90deg, #22c55e 0%, #16a34a 100%);
    box-shadow: 0 1px 3px rgba(34, 197, 94, 0.3);

    [data-theme="dark"] & {
      background: linear-gradient(90deg, #4ade80 0%, #22c55e 100%);
      box-shadow: 0 1px 4px rgba(74, 222, 128, 0.25);
    }
  }

  .progress-bar__label {
    @apply text-green-600;

    [data-theme="dark"] & {
      @apply text-green-400;
    }
  }
}

.progress-bar--warning {
  .progress-bar__fill {
    background: linear-gradient(90deg, #f59e0b 0%, #d97706 100%);
    box-shadow: 0 1px 3px rgba(245, 158, 11, 0.3);

    [data-theme="dark"] & {
      background: linear-gradient(90deg, #fbbf24 0%, #f59e0b 100%);
      box-shadow: 0 1px 4px rgba(251, 191, 36, 0.25);
    }
  }

  .progress-bar__label {
    @apply text-amber-600;

    [data-theme="dark"] & {
      @apply text-amber-400;
    }
  }
}
